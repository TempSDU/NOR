1.Save images in folder img.
2.Save comments in dataset/text.dat and vocabulary in dataset/vocab.dat.
3.Make sure you have these files in folder dataset:
toplist.dat--the format is topid+'\t'+commentid;
downlist.dat--the format is bottomid+'\t'+commentid;
combinationlist.dat--the format is topid+'\t'+bottomid+'\t'+commentid;
traindata.dat--the format is topid+'\t'+bottomid+'\t'+commentid;
devdata_tops.dat,testdata_tops.dat--the format are topid+'\t'+bottomid+'\t'+indicator(0 corresponds to negative combination;1 corresponds to positive combination)+'\t'+commentid(-1 is the commentid for negative combination);
devdata_downs.dat,testdata_downs.dat--the format are bottomid+'\t'+topid+'\t'+indicator+'\t'+commentid.
4.Make sure you have these files in folder evaluation: devdata_tops_qrel.dat,devdata_downs_qrel.dat,testdata_tops_qrel.dat and testdata_downs_qrel.dat, please refer to Text REtrieval Conference for the file format. Note that devdata_tops.dat and devdata_tops_qrel.dat have the same order, and other files as well.
5.Use jupyter notebook to run NFR.ipynb.
6.After get comments generated by system(save in folder system_comments), use jupyter notebook to run Rouge_Evaluation.ipynb.